\documentclass[a4paper,10pt]{article}
\usepackage[utf8x]{inputenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}

%opening
\newcommand{\F}{\mathcal{F}}

\input{defs}

\begin{document}


\subsection{Formule de Sahlquist}
On définit une construction syntaxique 
$S ::= X \rightarrow POS$
où POS est une formule positive et $\chi ::= T | \perp | \Box_{i_1} \cdots \Box_{i_n}p | \chi \wedge \chi | \Diamond_{j_i} \chi$
La formule générée par S
\begin{thm}{} Soit $\Phi$ une formule de Sahlquist. Il existe une formule du 1er ordre $\alpha$ qui correspond à $\Phi$ sur les cadres.\\
Pour tout cadre $\F$, pour tout monde $m$,
$\F, m \models \Phi$ ssi $\F[x \leftarrow m] \models \alpha(x)$
\end{thm}
\begin{ex}{1}
$ \F, m \models \Phi$ ssi $\forall V, \F, V, m \models \Phi$
ssi $\forall V, \F, V, w \models p$ implique $\F, V, w \models \Diamond p$
ssi $\forall V, w \in V(p)$ implique $\F, V, m \models \Diamond p$
ssi $\forall V' / V'(p) = {w}$ implique $\F, V, w \models p$
ssi $\forall V' / V'(p) = \{ w \}$ implique $\F, V, w \models \Diamond p$
(car $\Diamond p$ est croissante en p car positive)
(1) ssi $\forall V' / V'(p) = w$ on a $\F, V', [x \leftarrow w ] \models \exists y xRy \wedge p(y)$
ssi le prédicat p est interprété avec la fonction 
$\begin{array}{ll}
 W \longleftarrow \{0, 1\}\\
 w \mapsto & 1 si v = w\\
	    & 0 sinon
\end{array}$
On a montré que $\forall w \in W$
$\F, w \models p \to \Diamond p ssi F[x \leftarrow w] \models x Rx$

On a aussi:
$\F \models p \to \Diamond p ssi \forall w, \F[x←w] \models xRx
			    ssi \F \models \forall x, xRx$
\end{ex}

1)Traduire $\chi \leftarrow POS$ en second ordre de la forme
$\forall \vec p, \forall \vec y, [(REL \wedge BOX) \leftarrow ST_x(POS)$
où RES est une conjoniotn de $y_i R_k y_j x R_k y_i$
   BOX est une conjonction de la forme $\forall s, y_i R_{\beta} s \leftarrow p(s)$
2) Retourne la formule $\forall \vec y, REL \leftarrow ST_x(POS)$ dans laquelle on a remplacé les occurences de p par 
$\sigma(p)$ par $\lambda a . y_{i_1} R_{\beta_1} a \vee \cdots \vee y_{i_k} R_{\beta_k} a$\\
où chaque $y_{i_j} R_{\beta_j} a$ provient d'une formule $\forall s y_{i_j} R_{\beta_j} s \leftarrow p(s)$ qui apparaît dans BOX.

\subsection{Théorème de complétude}

Soit S un ensemble de formules . On écrit $\vdash_S \Phi$ pour dire que $\Phi$ est prouvable en utilisant 
\begin{itemize}
 \item les tautologies
 \item l'axiome K
 \item les instances de formules de S
 \item le modus ponens
 \item la nécéssitation
\end{itemize}
Rem : $\vdash \Phi; \vdash_{\empty} \Phi$
Soit $\mathcal{C}$ une classe de cadres.
$\models_{\mathcal{C}} \Phi$ ssi $\forall \F \in \mathcal{C}, \F \models \Phi$
$\Sigma \models_{\mathcal{C}} \Phi$ ssi pour tout modèle $\mathcal{M}, w$ basé sur un cadre de $\mathcal{C}$, on a :
Si $\mathcal{M}, w \models \Sigma alors \mathcal{M}, w \models \Phi$

\begin{thm}{de complétude de Sahlquist}
Soit S un ensemble de formules de Sahlquist, soit $C_s$ la classe de cadres qui vérifient les propriétés du 1er ordre correspondantes aux formules de S sur les cadres.
Alors  $\Sigma \vdash_S \Phi$ ssi $\Sigma \models_{\mathcal{C}} \Phi$ (complétude forte)
(complétude faible : $\vdash_S \Phi$ ssi $\models_S \Phi$.)
\end{thm}

Trois techniques pour montrer la décidabilité/compléxité du problème de logique modale.

\subsection{Logique modale S5}
\begin{tabular}{c | c  }
 axiomatique & propriété sur les cadres \\
 $\Box p \leftarrow p$ & réfléxivité\\
 $\Box p \leftarrow \Box \Box p$ & transitivité\\
 $\lnot\Box p \Box \lnot \Box p$ & euclidianité\\
 $(\Diamond \Box p \leftarrow \Box p)$\\
\end{tabular}
\subparagraph{Application : } Logique epistémique

euclidianité : $\forall x, y, z, (x R y \wedge xRz) \leftarrow y R z$

\begin{prop}
 Si R est réfléxive, transitive, alors R euclidienne ssi R symétrique
\end{prop}
\begin{prop}
Soit $\Phi$ satisfiable dans un modèle où R est une rel d'équivalence 
$\Leftrightarrow \Phi$ satisfiable dans un modèle M = (W, R, V) où $R = W \times W$
\end{prop}
Dem \fbox{$\Leftarrow$} : trivial
\fbox{$\Rightarrow$} Si il existe M, w où M  = (W, R, V) tq
\begin{itemize}
 \item R est une relation d'équivalence
 \item $M, w \models \Phi$
\end{itemize}





\subsection{Méthodes de tableau}

KT = logique des cadres réflexifs.
S5 = logique des cadres où R est une relation d'équivalence.
S4 = logique des cadres où R est réflexive et transitive.

On écrit les formules sous forme normale négative avec la logique suivante :\\
 $ \Phi := p | \lnot p | \perp | \top | \Phi \vee \Phi | \Phi \wedge \Phi | \Diamond \Phi | \Box \Phi $

\begin{definition}
 Soit $\Sigma$ un sous-ensemble de formules en FNN clos par sous-formules. Un ensemble de S4-Hintickka H sur $\Sigma$ est un ensemble qui satisfait:
\begin{itemize}
 \item $H \subseteq \Sigma$
 \item $\perp \not \in H$
 \item $p \in H$ ssi $\lnot p \not \in H$
 \item Si $\Phi\vee\Psi \in H,$ alors $\Phi \in H$ ou $\Psi \in H$
  \item Si $\Phi\wedge\Psi \in H,$ alors $\Phi \in$ H et $\Psi \in H$
  \item Si $\Box \Phi \in H,$ alors $\Phi \in H$
\end{itemize}
On note $H^{\Box} = \{\Box \Psi \in H \}$
\end{definition}


Idée : Pour tester si $\Phi$ est S4-satisfiable, on appelle satS4$(\{\Phi\}, [])$
$\Phi = $

\begin{thm}{}
 L'appel S4$(\{\Phi\}, [\,])$ termine et utilise un espace polynomial en la taille de $\Phi$
\end{thm}
\begin{dem}
 Tous les $\Gamma$ des différents appels sont de la forme $\{\Psi\} \cup \Box)$
Invariant à chaque appel : 
\begin{itemize}
 \item Si $L = [ \Gamma_1, \cdots, \Gamma_k]$ alors $\Gamma_1^{\Box} \subseteq \cdots \subseteq \Gamma_k^{\Box} \subseteq \Gamma^{\Box}$
 \item chaque $\Gamma_i$ est de la forme $\Gamma_i^{\Box} \cup \{\Psi_i\}$
 \item Les éléments de L sont distincts
 \item Tous les ensembles ($\Gamma$, les $\Gamma_i$ sont des sous-ensembles de $SF(\Phi)$
\end{itemize}

But : $|L| \leq |\Phi|^2 + |\Phi| +1$
$\Gamma_1^{\Box} \subseteq \cdots \subseteq \Gamma_k^{\Box} \subseteq  SF(\Phi)$
$SF(\Phi)$ est de cardinal $|\Phi|$ : Il y a au plus $|\Phi|$ inclusions strictes.

Soient $i_1, i_2, \dots$ les indices tq $\Gamma_{i_j-1}^{\Box} \varsubsetneq \Gamma_{i_j}^{\Box}$
On a $i_{j+1} - i_j \leq |\Phi|$ car sinon il y aurait deux fois la même formule $\Psi_i$ et donc 2 éléments de la liste L seraient égaux.

$k = \sum^J_{j=0} i_{j+1} - i_j \leq |\Phi|^2$
\end{dem}

\begin{thm}{}
 Si $\Phi$ est satisfiable, alors satS4$(\{\Phi\}, [])$ réussit
\end{thm}
\begin{dem}{}
 Par récurrence sur |\Phi|^2 - L, on montre que le sous-appel satS4$(\Gamma, L)$ réussit :
Si \Gamma \in L, l'appel réussit
Sinon,H = \{\Psi \in SF(\Phi) / M, w \models \Psi \} et on considère l'exécution qui s'occupe de ce H là.
Pour tout \Diamond \Psi \in H, \{ \Psi \] \cup H^{\Box\} est sat en M,u.
\Rightarrow Par récurrence, les sous appels réussissent \Rightarrow Cet appel réussit
\end{dem}

\begin{thm}{}
 Si satS4$(\{\Phi\}, [])$ réussit, alors $\Phi$ satisfiable.
\end{thm}

\begin{dem}{}
 \fbox{1} On montre que si  satS4$(\Gamma, L)$ réussit, alors il existe une structure \mathcal{S} = (S, T, F) /
\begin{itemize}
 \item (S,T) est un ordre
 \item F etiquette les noeuds de l'ordre avec des ensembles S4-Hintikka, et les feuilles sont étiquetées par des ensembles \Gamma tels que
\begin{itemize}
 \item soit \Gamma ne contient pas de \Diamond \Psi_i
 \item soit \Gamma \in L
 \item soit \Gamma est inclus dans l'étiquette d'un label d'un prédécesseur
\end{itemize}
\item Si \Box \Psi \in F(s), alors t \in T(s), \Box \Psi \in F(t)
\item Si \Diamond \Psi \in F(s), alors \exists t \in T(s),  \Psi \in F(t)
\item La racine est étiquetée par un S4-hintikka incluant \Gamma
\end{itemize}

\fbox{2} On transforme $\mathcal{S} = (S, T, F)$ qui correspond à satS4$(\Gamma, L)$ en un modèle de Kripke.
Soit $\mathcal{M} = (W, R^*, V)$ défini par 
\begin{itemize}
 \item W = S \I où I est l'ensemble des feuilles incluses dans un prédécesseur
 \item R = T_{|_{W}} \cup \{ (w,u) \in W / \existe l \in I / (w,l) \in T et F(l) \subseteq F(u)
 \item V(p) =  \{w \in W, / p \in F(w) \}
\end{itemize}
Et R^* : fermeture réflexive et transitive de R

On montre par induction sur \Phi \in SF(\Phi) qui \forall w \in W, 
\Psi \in F(w) ssi M,w \models \Psi
\end{dem}

\begin{thm}{}
 S4-SAT est dans PSPACE
\end{thm}
\begin{thm}{}
 S4-SAT est PSPACE-hard
\end{thm}

\subsection{Filtration} 
But : Si M, w \models \Phi, trouver M^f, u / 
\begin{itemize}
 \item M^f fini
 \item M^f, u \models \Phi
\end{itemize}

\begin{definition}{}
 Soit \Phi une formule. Soit M = (W, R, V). On définit w \leftrightsquigarrow u ssi \forall \Psi \in SF(\Phi),
M, w \models \Psi ssi M, u \models \Phi
On dit que M^f = (W^f, R^f, V^f) est une filtration si 
\begin{enumerate}
 \item W = W_{| \leftrightsquigarrow}
 \item Si w R v alors |w| R^f |v|
 \item Si |w| R^f |v| alors \forall \Box \Psi \in SF(\Phi), 
	si M, w \models \Box Phi, alors M,u models Psi
\item V^f(p) \{ [ w | in W^f / M,w models p \} pour p qui apparait dans Phi
\end{enumerate}

\end{definition}

\begin{prop}{}
|W^f| leq 2^{|Phi|}
\begin{dem}{}
 i : W^f \rightarrow 2^{SF(Phi)}
 |w| mapsto {Psi in SF(Phi) / M, w models Psi_i
est bien définie et injective.
\end{dem}

\begin{thm}{}
 \forall Psi in SF(Phi),
M,w models Psi ssi M^f , |w| models Psi
\end{thm}
Dem : par induction

Logiques candidates pour la filtration : 
les logiques dont le problème SAT est NEXPTIME-complet
Pour celles là, la filtration donne un algo optimal.
 
\end{prop}




\end{document}
